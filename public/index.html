<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>iClock</title>
  <style>
    body {
      background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAABJJREFUCB1jYGBg+A/ExAHsKgFV7gH/ssPq5wAAAABJRU5ErkJggg==) repeat;
    }

    .clock {
      width: 400px;
      height: 400px;
      stroke: black;
      stroke-linecap: round;
      fill: #fff;
    }

    .bezel {
      stroke-width: 0.5;
      stroke: #fff;
    }
    .ticks .hh, .ticks .mm {
      stroke-linecap: square;
    }
    .ticks .hh {
      stroke-width: 1;
    }
    .ticks .mm {
      stroke-width: 0.3;
    }
    .hour, .min, .sec {
      stroke-width: 0.5;
      fill: none;
    }
    .sec {
      stroke: #f55;
    }
    .tritium {
      stroke: #000;
      fill: #000;
    }
    #three .tritium {
      stroke: #f55;
      fill: #f55;
    }
  </style>
</head>
<body>
  <svg id="three" class="clock" viewBox="0 0 100 100">
    <circle class="bezel" cx="50" cy="50" r="45" />

    <g class="ticks">
      <line class="_12_ hh" x1="50" y1="5.700" x2="50.00" y2="10.00" />
      <line class="_12_1 mm" x1="54.63061092275705" y1="5.9426800351854965" x2="54.39019545724145" y2="8.230080394532521" />
      <line class="_12_2 mm" x1="59.21048790322674" y1="6.668061287492414" x2="58.7322910143459" y2="8.917800769180168" />
      <line class="_12_3 mm" x1="63.68945285081017" y1="7.868196328124704" x2="62.97871376374779" y2="10.055626315603554" />
      <line class="_12_4 mm" x1="68.01843328825794" y1="9.529936226432781" x2="67.0829390091836" y2="11.631090779010762" />
      <line class="_1_ hh" x1="72.15" y1="11.63507461234937" x2="70.00" y2="15.36" />
      <line class="_1_6_ mm" x1="76.03888667655656" y1="14.160547149189838" x2="74.68698059628387" y2="16.02128623625221" />
      <line class="_1_7_ mm" x1="79.64248586169742" y1="17.078684231351446" x2="78.10348546707205" y2="18.787917329949448" />
      <line class="_1_8_ mm" x1="82.92131576864855" y1="20.357514138302584" x2="81.21208267005056" y2="21.896514532927952" />
      <line class="_1_9_ mm" x1="85.83945285081018" y1="23.961113323443442" x2="83.97871376374779" y2="25.31301940371613" />
      <line class="_2_ hh" x1="88.36492538765063" y1="27.85" x2="84.64" y2="30.00" />
      <line class="_2_11_ mm" x1="90.47006377356722" y1="31.981566711742055" x2="88.36890922098924" y2="32.917060990816395" />
      <line class="_2_12_ mm" x1="92.1318036718753" y1="36.31054714918983" x2="89.94437368439645" y2="37.02128623625221" />
      <line class="_2_13_ mm" x1="93.3319387125076" y1="40.789512096773265" x2="91.08219923081984" y2="41.26770898565411" />
      <line class="_2_14_ mm" x1="94.0573199648145" y1="45.36938907724295" x2="91.76991960546748" y2="45.60980454275855" />
      <line class="_3_ hh" x1="94.3" y1="50" x2="90.00" y2="50.00" />
      <line class="_3_16_ mm" x1="94.0573199648145" y1="54.63061092275705" x2="91.76991960546748" y2="54.39019545724145" />
      <line class="_3_17_ mm" x1="93.3319387125076" y1="59.210487903226735" x2="91.08219923081984" y2="58.73229101434589" />
      <line class="_3_18_ mm" x1="92.1318036718753" y1="63.68945285081017" x2="89.94437368439645" y2="62.97871376374779" />
      <line class="_3_19_ mm" x1="90.47006377356722" y1="68.01843328825794" x2="88.36890922098924" y2="67.0829390091836" />
      <line class="_4_ hh" x1="88.36492538765063" y1="72.15" x2="84.64" y2="70.00" />
      <line class="_4_21_ mm" x1="85.83945285081018" y1="76.03888667655656" x2="83.97871376374779" y2="74.68698059628387" />
      <line class="_4_22_ mm" x1="82.92131576864855" y1="79.64248586169742" x2="81.21208267005056" y2="78.10348546707205" />
      <line class="_4_23_ mm" x1="79.64248586169742" y1="82.92131576864855" x2="78.10348546707205" y2="81.21208267005055" />
      <line class="_4_24_ mm" x1="76.03888667655656" y1="85.83945285081016" x2="74.68698059628387" y2="83.97871376374779" />
      <line class="_5_ hh" x1="72.15" y1="88.36492538765063" x2="70.00" y2="84.64" />
      <line class="_5_26_ mm" x1="68.01843328825794" y1="90.47006377356722" x2="67.0829390091836" y2="88.36890922098924" />
      <line class="_5_27_ mm" x1="63.68945285081017" y1="92.1318036718753" x2="62.97871376374779" y2="89.94437368439645" />
      <line class="_5_28_ mm" x1="59.21048790322674" y1="93.3319387125076" x2="58.7322910143459" y2="91.08219923081984" />
      <line class="_5_29_ mm" x1="54.63061092275705" y1="94.0573199648145" x2="54.39019545724145" y2="91.76991960546748" />
      <line class="_6_ hh" x1="50" y1="94.3" x2="50.00" y2="90.00" />
      <line class="_6_31_ mm" x1="45.36938907724296" y1="94.05731996481451" x2="45.60980454275856" y2="91.76991960546749" />
      <line class="_6_32_ mm" x1="40.78951209677327" y1="93.3319387125076" x2="41.26770898565412" y2="91.08219923081984" />
      <line class="_6_33_ mm" x1="36.31054714918983" y1="92.1318036718753" x2="37.02128623625221" y2="89.94437368439645" />
      <line class="_6_34_ mm" x1="31.981566711742058" y1="90.47006377356722" x2="32.917060990816395" y2="88.36890922098924" />
      <line class="_7_ hh" x1="27.85" y1="88.36492538765063" x2="30.00" y2="84.64" />
      <line class="_7_36_ mm" x1="23.961113323443445" y1="85.83945285081018" x2="25.313019403716133" y2="83.97871376374779" />
      <line class="_7_37_ mm" x1="20.357514138302584" y1="82.92131576864855" x2="21.896514532927952" y2="81.21208267005056" />
      <line class="_7_38_ mm" x1="17.078684231351446" y1="79.64248586169742" x2="18.78791732994945" y2="78.10348546707205" />
      <line class="_7_39_ mm" x1="14.160547149189838" y1="76.03888667655656" x2="16.02128623625221" y2="74.68698059628387" />
      <line class="_8_ hh" x1="11.63507461234937" y1="72.15" x2="15.36" y2="70.00" />
      <line class="_8_41_ mm" x1="9.529936226432788" y1="68.01843328825797" x2="11.63109077901077" y2="67.08293900918362" />
      <line class="_8_42_ mm" x1="7.868196328124704" y1="63.68945285081017" x2="10.055626315603554" y2="62.97871376374779" />
      <line class="_8_43_ mm" x1="6.668061287492414" y1="59.210487903226735" x2="8.917800769180161" y2="58.73229101434589" />
      <line class="_8_44_ mm" x1="5.9426800351854965" y1="54.63061092275706" x2="8.230080394532521" y2="54.390195457241454" />
      <line class="_9_ hh" x1="5.7" y1="50" x2="10.00" y2="50.00" />
      <line class="_9_46_ mm" x1="5.9426800351854965" y1="45.36938907724294" x2="8.230080394532521" y2="45.609804542758546" />
      <line class="_9_47_ mm" x1="6.668061287492414" y1="40.789512096773265" x2="8.917800769180161" y2="41.26770898565411" />
      <line class="_9_48_ mm" x1="7.868196328124704" y1="36.31054714918983" x2="10.055626315603554" y2="37.02128623625221" />
      <line class="_9_49_ mm" x1="9.529936226432788" y1="31.98156671174204" x2="11.63109077901077" y2="32.91706099081638" />
      <line class="_10_ hh" x1="11.63507461234937" y1="27.85" x2="15.36" y2="30.00" />
      <line class="_10_51_ mm" x1="14.160547149189838" y1="23.96111332344344" x2="16.02128623625221" y2="25.313019403716122" />
      <line class="_10_52_ mm" x1="17.078684231351446" y1="20.357514138302577" x2="18.78791732994945" y2="21.89651453292795" />
      <line class="_10_53_ mm" x1="20.357514138302584" y1="17.07868423135144" x2="21.896514532927952" y2="18.78791732994944" />
      <line class="_10_54_ mm" x1="23.961113323443445" y1="14.160547149189831" x2="25.313019403716133" y2="16.02128623625221" />
      <line class="_11_ hh" x1="27.85" y1="11.635074612349364" x2="30.00" y2="15.36" />
      <line class="_11_56_ mm" x1="31.981566711742058" y1="9.529936226432781" x2="32.917060990816395" y2="11.631090779010762" />
      <line class="_11_57_ mm" x1="36.31054714918983" y1="7.8681963281246965" x2="37.02128623625221" y2="10.055626315603547" />
      <line class="_11_58_ mm" x1="40.78951209677327" y1="6.668061287492414" x2="41.26770898565412" y2="8.917800769180161" />
      <line class="_11_59_ mm" x1="45.36938907724296" y1="5.942680035185489" x2="45.60980454275856" y2="8.230080394532514" />
    </g>

    <g class="numbers">
      <text x="42" y="23">12</text>
      <text x="80" y="55">3</text>
      <text x="46" y="87">6</text>
      <text x="13" y="55">9</text>
    </g>

    <g class="aperture">
      Mon, 26 Apr
    </g>

    <g class="hands">
      <path class="hour" d="M 50,50 l 0,-5 l -1.7,-1.7 l 0,-11 l 1.7,-1.7 l 0,-7 m 0,7 l 1.7,1.7 l 0,11 l -1.7,1.7" />
      <path class="min" d="M 50,50 l 0,-3 l -1,-1 l 0,-16 l 1,-1 l 0,-12 m 0,12 l 1,1 l 0,16 l -1,1" />
      <line class="sec" x1="50" y1="50" x2="50" y2="16" />
      <circle class="tritium" cx="50" cy="50" r="1" />
    </g>
  </svg>

  <svg id="two" class="clock" viewBox="0 0 100 100">
    <circle class="bezel" cx="50" cy="50" r="45"/>

    <g class="ticks">
      <line class="_12_ hh" x1="50" y1="5.700" x2="50.00" y2="10.00" />
      <line class="_12_1 mm" x1="54.63061092275705" y1="5.9426800351854965" x2="54.39019545724145" y2="8.230080394532521" />
      <line class="_12_2 mm" x1="59.21048790322674" y1="6.668061287492414" x2="58.7322910143459" y2="8.917800769180168" />
      <line class="_12_3 mm" x1="63.68945285081017" y1="7.868196328124704" x2="62.97871376374779" y2="10.055626315603554" />
      <line class="_12_4 mm" x1="68.01843328825794" y1="9.529936226432781" x2="67.0829390091836" y2="11.631090779010762" />
      <line class="_1_ hh" x1="72.15" y1="11.63507461234937" x2="70.00" y2="15.36" />
      <line class="_1_6_ mm" x1="76.03888667655656" y1="14.160547149189838" x2="74.68698059628387" y2="16.02128623625221" />
      <line class="_1_7_ mm" x1="79.64248586169742" y1="17.078684231351446" x2="78.10348546707205" y2="18.787917329949448" />
      <line class="_1_8_ mm" x1="82.92131576864855" y1="20.357514138302584" x2="81.21208267005056" y2="21.896514532927952" />
      <line class="_1_9_ mm" x1="85.83945285081018" y1="23.961113323443442" x2="83.97871376374779" y2="25.31301940371613" />
      <line class="_2_ hh" x1="88.36492538765063" y1="27.85" x2="84.64" y2="30.00" />
      <line class="_2_11_ mm" x1="90.47006377356722" y1="31.981566711742055" x2="88.36890922098924" y2="32.917060990816395" />
      <line class="_2_12_ mm" x1="92.1318036718753" y1="36.31054714918983" x2="89.94437368439645" y2="37.02128623625221" />
      <line class="_2_13_ mm" x1="93.3319387125076" y1="40.789512096773265" x2="91.08219923081984" y2="41.26770898565411" />
      <line class="_2_14_ mm" x1="94.0573199648145" y1="45.36938907724295" x2="91.76991960546748" y2="45.60980454275855" />
      <line class="_3_ hh" x1="94.3" y1="50" x2="90.00" y2="50.00" />
      <line class="_3_16_ mm" x1="94.0573199648145" y1="54.63061092275705" x2="91.76991960546748" y2="54.39019545724145" />
      <line class="_3_17_ mm" x1="93.3319387125076" y1="59.210487903226735" x2="91.08219923081984" y2="58.73229101434589" />
      <line class="_3_18_ mm" x1="92.1318036718753" y1="63.68945285081017" x2="89.94437368439645" y2="62.97871376374779" />
      <line class="_3_19_ mm" x1="90.47006377356722" y1="68.01843328825794" x2="88.36890922098924" y2="67.0829390091836" />
      <line class="_4_ hh" x1="88.36492538765063" y1="72.15" x2="84.64" y2="70.00" />
      <line class="_4_21_ mm" x1="85.83945285081018" y1="76.03888667655656" x2="83.97871376374779" y2="74.68698059628387" />
      <line class="_4_22_ mm" x1="82.92131576864855" y1="79.64248586169742" x2="81.21208267005056" y2="78.10348546707205" />
      <line class="_4_23_ mm" x1="79.64248586169742" y1="82.92131576864855" x2="78.10348546707205" y2="81.21208267005055" />
      <line class="_4_24_ mm" x1="76.03888667655656" y1="85.83945285081016" x2="74.68698059628387" y2="83.97871376374779" />
      <line class="_5_ hh" x1="72.15" y1="88.36492538765063" x2="70.00" y2="84.64" />
      <line class="_5_26_ mm" x1="68.01843328825794" y1="90.47006377356722" x2="67.0829390091836" y2="88.36890922098924" />
      <line class="_5_27_ mm" x1="63.68945285081017" y1="92.1318036718753" x2="62.97871376374779" y2="89.94437368439645" />
      <line class="_5_28_ mm" x1="59.21048790322674" y1="93.3319387125076" x2="58.7322910143459" y2="91.08219923081984" />
      <line class="_5_29_ mm" x1="54.63061092275705" y1="94.0573199648145" x2="54.39019545724145" y2="91.76991960546748" />
      <line class="_6_ hh" x1="50" y1="94.3" x2="50.00" y2="90.00" />
      <line class="_6_31_ mm" x1="45.36938907724296" y1="94.05731996481451" x2="45.60980454275856" y2="91.76991960546749" />
      <line class="_6_32_ mm" x1="40.78951209677327" y1="93.3319387125076" x2="41.26770898565412" y2="91.08219923081984" />
      <line class="_6_33_ mm" x1="36.31054714918983" y1="92.1318036718753" x2="37.02128623625221" y2="89.94437368439645" />
      <line class="_6_34_ mm" x1="31.981566711742058" y1="90.47006377356722" x2="32.917060990816395" y2="88.36890922098924" />
      <line class="_7_ hh" x1="27.85" y1="88.36492538765063" x2="30.00" y2="84.64" />
      <line class="_7_36_ mm" x1="23.961113323443445" y1="85.83945285081018" x2="25.313019403716133" y2="83.97871376374779" />
      <line class="_7_37_ mm" x1="20.357514138302584" y1="82.92131576864855" x2="21.896514532927952" y2="81.21208267005056" />
      <line class="_7_38_ mm" x1="17.078684231351446" y1="79.64248586169742" x2="18.78791732994945" y2="78.10348546707205" />
      <line class="_7_39_ mm" x1="14.160547149189838" y1="76.03888667655656" x2="16.02128623625221" y2="74.68698059628387" />
      <line class="_8_ hh" x1="11.63507461234937" y1="72.15" x2="15.36" y2="70.00" />
      <line class="_8_41_ mm" x1="9.529936226432788" y1="68.01843328825797" x2="11.63109077901077" y2="67.08293900918362" />
      <line class="_8_42_ mm" x1="7.868196328124704" y1="63.68945285081017" x2="10.055626315603554" y2="62.97871376374779" />
      <line class="_8_43_ mm" x1="6.668061287492414" y1="59.210487903226735" x2="8.917800769180161" y2="58.73229101434589" />
      <line class="_8_44_ mm" x1="5.9426800351854965" y1="54.63061092275706" x2="8.230080394532521" y2="54.390195457241454" />
      <line class="_9_ hh" x1="5.7" y1="50" x2="10.00" y2="50.00" />
      <line class="_9_46_ mm" x1="5.9426800351854965" y1="45.36938907724294" x2="8.230080394532521" y2="45.609804542758546" />
      <line class="_9_47_ mm" x1="6.668061287492414" y1="40.789512096773265" x2="8.917800769180161" y2="41.26770898565411" />
      <line class="_9_48_ mm" x1="7.868196328124704" y1="36.31054714918983" x2="10.055626315603554" y2="37.02128623625221" />
      <line class="_9_49_ mm" x1="9.529936226432788" y1="31.98156671174204" x2="11.63109077901077" y2="32.91706099081638" />
      <line class="_10_ hh" x1="11.63507461234937" y1="27.85" x2="15.36" y2="30.00" />
      <line class="_10_51_ mm" x1="14.160547149189838" y1="23.96111332344344" x2="16.02128623625221" y2="25.313019403716122" />
      <line class="_10_52_ mm" x1="17.078684231351446" y1="20.357514138302577" x2="18.78791732994945" y2="21.89651453292795" />
      <line class="_10_53_ mm" x1="20.357514138302584" y1="17.07868423135144" x2="21.896514532927952" y2="18.78791732994944" />
      <line class="_10_54_ mm" x1="23.961113323443445" y1="14.160547149189831" x2="25.313019403716133" y2="16.02128623625221" />
      <line class="_11_ hh" x1="27.85" y1="11.635074612349364" x2="30.00" y2="15.36" />
      <line class="_11_56_ mm" x1="31.981566711742058" y1="9.529936226432781" x2="32.917060990816395" y2="11.631090779010762" />
      <line class="_11_57_ mm" x1="36.31054714918983" y1="7.8681963281246965" x2="37.02128623625221" y2="10.055626315603547" />
      <line class="_11_58_ mm" x1="40.78951209677327" y1="6.668061287492414" x2="41.26770898565412" y2="8.917800769180161" />
      <line class="_11_59_ mm" x1="45.36938907724296" y1="5.942680035185489" x2="45.60980454275856" y2="8.230080394532514" />
    </g>

    <g class="numbers">
      <text x="42" y="23">12</text>
      <text x="80" y="55">3</text>
      <text x="46" y="87">6</text>
      <text x="13" y="55">9</text>
    </g>

    <g class="hands">
      <path class="hour" d="M 50,50 l 0,-5 l -1.7,-1.7 l 0,-11 l 1.7,-1.7 l 0,-7 m 0,7 l 1.7,1.7 l 0,11 l -1.7,1.7" />
      <path class="min" d="M 50,50 l 0,-3 l -1,-1 l 0,-16 l 1,-1 l 0,-12 m 0,12 l 1,1 l 0,16 l -1,1" />
      <circle class="tritium" cx="50" cy="50" r="1" />
    </g>
  </svg>

  <svg id="one" class="clock" viewBox="0 0 100 100">
    <circle class="bezel" cx="50" cy="50" r="45" />

    <g class="ticks">
      <line class="_12_ hh" x1="50" y1="5.700" x2="50.00" y2="10.00" />
      <line class="_1_ hh" x1="72.15" y1="11.63507461234937" x2="70.00" y2="15.36" />
      <line class="_2_ hh" x1="88.36492538765063" y1="27.85" x2="84.64" y2="30.00" />
      <line class="_3_ hh" x1="94.3" y1="50" x2="90.00" y2="50.00" />
      <line class="_4_ hh" x1="88.36492538765063" y1="72.15" x2="84.64" y2="70.00" />
      <line class="_5_ hh" x1="72.15" y1="88.36492538765063" x2="70.00" y2="84.64" />
      <line class="_6_ hh" x1="50" y1="94.3" x2="50.00" y2="90.00" />
      <line class="_7_ hh" x1="27.85" y1="88.36492538765063" x2="30.00" y2="84.64" />
      <line class="_8_ hh" x1="11.63507461234937" y1="72.15" x2="15.36" y2="70.00" />
      <line class="_9_ hh" x1="5.7" y1="50" x2="10.00" y2="50.00" />
      <line class="_10_ hh" x1="11.63507461234937" y1="27.85" x2="15.36" y2="30.00" />
      <line class="_11_ hh" x1="27.85" y1="11.635074612349364" x2="30.00" y2="15.36" />
    </g>

    <g class="numbers">
      <text x="42" y="23">12</text>
      <text x="80" y="55">3</text>
      <text x="46" y="87">6</text>
      <text x="13" y="55">9</text>
    </g>

    <g class="hands">
      <line class="hour" x1="50" y1="50" x2="50" y2="12" />
      <circle class="tritium" cx="50" cy="50" r="1" />
    </g>
  </svg>

  <h3>References</h3>

  <ul>
    <li>https://github.com/sganz/analogclock</li>
    <li>http://thenewcode.com/943/An-SVG-Analog-Clock-In-6-Lines-of-JavaScript</li>
    <li>https://gist.github.com/janx/1188550</li>
    <li>https://jsfiddle.net/MrPolywhirl/znene4g5/</li>
  </ul>

  <script>
    var iClock = {
      state: {},

      register: function(name, proto) {
        if (typeof name === "function") {
          proto = name;
          name = name.name;
        }

        if (this.hasOwnProperty(name)) {
          throw("Error: name clash, "+name+" already defined");
        }
        iClock[name] = proto;
      },

      start: function() {
        var movement = new iClock.Movement;
        new iClock.Clock('#one', 1, movement);
        new iClock.Clock('#two', 2, movement);
        new iClock.Clock('#three', 3, movement);
        movement.start();
        this.state.movement = movement;
      }
    };

    iClock.register(
      "tool",
      {
        dial: {
          /*
          x = radius*cos(theta)+centerX
          y = radius*sin(theta)+centerY

          hour  tick  theta (degree) real_theta (degree)
          12    0     0              -90
          1     5     30             -60
          2     10    60             -30
          3     15    90             0
          4     20    120            30
          5     25    150            60
          6     30    180            90
          7     35    210            120
          8     40    240            150
          9     45    270            180
          10    50    300            -150
          11    55    330            -120

          e.g.
          radius
          hour: 44.3-40
          minute: 44.3-42
          */
          tickXY: function(theta, radius, x, y) {
            if (theta > 270) {
              theta = theta-450;
            } else {
              theta = theta-90;
            }

            return [
              radius*Math.cos(theta*Math.PI/180)+x,
              radius*Math.sin(theta*Math.PI/180)+y,
            ];
          },
          ticks: function(hh) {
            var i;
            var t = '';
            for (i=1;i<5;++i) {
              var c = hh*5+i;
              var xy= this.tickXY(c*6, 44.3, 50, 50);
              t = t + `<line class="_${hh}_${c}_ mm" x1="${xy[0]}" y1="${xy[1]}" `;
              var xy= this.tickXY(c*6, 42, 50, 50);
              t = t + `x2="${xy[0]}" y2="${xy[1]}" />\n`;
            }
            console.log(t);
          }
        }
      }
    );

    iClock.register(
      function Movement(epoch, tock, undef) {
        this.engine = undef;

        this.epoch = (epoch || Date.now());
        this.time = new Date;

        this.clocks = [];
        this.power = function(clock) {
          this.clocks.push(clock);
        }

        this.tock = (tock || 1000);
        this.tick = function(tock) {
          this.epoch += (tock || this.tock);
          this.time.setTime(this.epoch);
          return this.time;
        }

        this.start = function() {
          this.engine = setInterval(
              function(self) {
                var time = self.tick();
                var clock;

                for (clock of self.clocks) {
                  clock['update'].call(clock, time);
                }
              },
              this.tock,
              this
          );
          return this.engine;
        };
        this.stop = function() {
          clearInterval(this.engine);
        };
      }
    );

    iClock.register(
      function Clock(el, handCount, movement, undef) {
        var tool = {
          $: function(sel, node) {
            return (node || document).querySelector(sel);
          },
          rotate: function(el, deg, x, y) {
            if (el) {
              el.setAttribute('transform', `rotate(${deg} ${x} ${y})`);
            }
          }
        };

        this.el = {
          clock: undef,
          hands: {
            hour: undef,
            minute: undef,
            second: undef,
          }
        };
        this.el.clock = (function(el, t) {
          var type = typeof el;
          if (type === "string") {
            return t.$(el);
          } else if (type === "object") {
            return el;
          }
        })(el, tool);
        this.el.hands.hour = tool.$(".hour", this.el.clock);
        this.el.hands.minute = tool.$(".min", this.el.clock);
        this.el.hands.second = tool.$(".sec", this.el.clock);

        // TODO derive from viewBox dimension
        this.centerX = 50;
        this.centerY = 50;

        this.update = function(time) {
          if (this.el.hands.second) {
            tool.rotate(this.el.hands.second, 6*time.getSeconds(), this.centerX, this.centerY);
            tool.rotate(this.el.hands.minute, 6*time.getMinutes(), this.centerX, this.centerY);
            tool.rotate(this.el.hands.hour, 30*(time.getHours()%12) + time.getMinutes()/2, this.centerX, this.centerY);
          } else if (this.el.hands.minute) {
            tool.rotate(this.el.hands.minute, 6*time.getMinutes(), this.centerX, this.centerY);
            tool.rotate(this.el.hands.hour, 30*(time.getHours()%12) + time.getMinutes()/2, this.centerX, this.centerY);
          } else if (this.el.hands.hour) {
            tool.rotate(this.el.hands.hour, 30*(time.getHours()%12) + time.getMinutes()/2, this.centerX, this.centerY);
          }
        }

        this.movement = movement;
        this.movement.power(this);
      }
    );

    iClock.start();
  </script>
</body>
</html>
